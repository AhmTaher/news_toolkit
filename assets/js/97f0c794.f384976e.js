"use strict";(self.webpackChunkflutter_news_toolkit_docs=self.webpackChunkflutter_news_toolkit_docs||[]).push([[782],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),s=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=s(e.components);return o.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),c=s(n),f=r,m=c["".concat(l,".").concat(f)]||c[f]||d[f]||i;return n?o.createElement(m,a(a({ref:t},u),{},{components:n})):o.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=f;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[c]="string"==typeof e?e:r,a[1]=p;for(var s=2;s<i;s++)a[s]=n[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},9138:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var o=n(7462),r=(n(7294),n(3905));const i={sidebar_position:2,description:"Learn how to configure your Firebase project."},a="Firebase setup",p={unversionedId:"project_configuration/firebase",id:"project_configuration/firebase",title:"Firebase setup",description:"Learn how to configure your Firebase project.",source:"@site/docs/project_configuration/firebase.md",sourceDirName:"project_configuration",slug:"/project_configuration/firebase",permalink:"/news_toolkit/project_configuration/firebase",draft:!1,editUrl:"https://github.com/flutter/news_toolkit/tree/main/docs/docs/project_configuration/firebase.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,description:"Learn how to configure your Firebase project."},sidebar:"tutorialSidebar",previous:{title:"GitHub setup",permalink:"/news_toolkit/project_configuration/github"},next:{title:"Authentication setup",permalink:"/news_toolkit/project_configuration/social_authentication"}},l={},s=[],u={toc:s},c="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"firebase-setup"},"Firebase setup"),(0,r.kt)("p",null,"You must specify Firebase configuration information for your app flavors and platforms. Please use the following instructions to create your own Firebase projects and configure your apps."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Although the Flutter News Toolkit is pre-configured to work with Firebase, you're welcome to customize your codebase to leverage other services in your project.")),(0,r.kt)("p",null,"We recommend that you define at least two application environments (also known as flavors): ",(0,r.kt)("em",{parentName:"p"},"development")," and ",(0,r.kt)("em",{parentName:"p"},"production"),". Each environment defines a different configuration of deep links, ads, and authentication, along with a different entry point to the application (such as ",(0,r.kt)("inlineCode",{parentName:"p"},"main_development.dart"),")."),(0,r.kt)("p",null,"By default, your codebase should support a production and development flavor. However, you might have created additional flavors when generating your project from mason."),(0,r.kt)("p",null,"Before you can run your generated app, you must configure Firebase."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("a",{parentName:"p",href:"https://firebase.google.com/docs/flutter/setup#configure-firebase"},"flutterfire-cli")," doesn't yet ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/invertase/flutterfire_cli/issues/14"},"support multiple flavors"),"."),(0,r.kt)("p",{parentName:"admonition"},"Since your project supports multiple flavors, you must manually configure Firebase.")),(0,r.kt)("p",null,"Go to the ",(0,r.kt)("a",{parentName:"p",href:"https://console.firebase.google.com"},"Firebase Console"),", sign in with your Google account, and create a separate Firebase project for each flavor that your project supports (such as development and production)."),(0,r.kt)("p",null,'In each Firebase project, create an Android and iOS app with the corresponding application IDs. Make sure that the application ID includes the correct suffix (such as "dev" for the development flavor).'),(0,r.kt)("p",null,"Download the Google Services file for each app from the ",(0,r.kt)("strong",{parentName:"p"},"Project Settings")," page in the Firebase Console. Then, go to the source code of your generated app and look for the following ",(0,r.kt)("inlineCode",{parentName:"p"},"TODOs")," for each flavor:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Android")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"// Replace with google-services.json from the Firebase Console //\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"iOS")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\x3c!-- Replace with GoogleService-Info.plist from the Firebase Console --\x3e\n")),(0,r.kt)("p",null,"Replace this message (for every flavor of the app) with the contents of the ",(0,r.kt)("inlineCode",{parentName:"p"},"google-services.json")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"GoogleServiceInfo.plist")," files that you just downloaded from the Firebase Console."),(0,r.kt)("p",null,"Lastly, for iOS only, you must open ",(0,r.kt)("inlineCode",{parentName:"p"},"ios/Runner.xcodeproj/project.pbxproj")," and replace the following placeholder with the corresponding ",(0,r.kt)("inlineCode",{parentName:"p"},"reversed_client_id")," from the ",(0,r.kt)("inlineCode",{parentName:"p"},"GoogleServiceInfo.plist")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'REVERSED_CLIENT_ID = "<PASTE-REVERSED-CLIENT-ID-HERE>";\n')),(0,r.kt)("p",null,"When searching for this placeholder, the number of results depend on the number of flavors configured for your project. For each configured flavor, there are two configuration sections (",(0,r.kt)("inlineCode",{parentName:"p"},"debug")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"release"),")."),(0,r.kt)("p",null,"For example, if you set up ",(0,r.kt)("inlineCode",{parentName:"p"},"development")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"production")," as your project's flavors, you will find the following configuration sections:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Debug-development")," (build development flavor in debug mode)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Release-development")," (build development flavor in release mode)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Debug-production")," (build production flavor in debug mode)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Release-production")," (build production flavor in release mode)")),(0,r.kt)("p",null,"Your ",(0,r.kt)("inlineCode",{parentName:"p"},"ios/Runner.xcodeproj/project.pbxproj")," should have the following format:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'/* Begin XCBuildConfiguration section */\n\n# Release-production\n0CMNTMSTYJKWAP508TXPJJN5 /* Release-production */ = {\n...\nbuildSettings = {\n  ...\n  REVERSED_CLIENT_ID = "<PASTE-REVERSED-CLIENT-ID-HERE>";\n  ...\n};\nname = "Release-production";\n};\n                ...\n\n# Debug-development\n1ON144SZQH163C0TE8AP2QLM /* Debug-development */ = {\n  ...\n  buildSettings = {\n    ...\n    REVERSED_CLIENT_ID = "<PASTE-REVERSED-CLIENT-ID-HERE>";\n    ...\n  };\n  name = "Debug-development";\n};\n                ...\n\n# Release-development\n53ZSJWL4HHR1DK5C45O2YEZ5 /* Release-development */ = {\n  ...\n  buildSettings = {\n    ...\n    REVERSED_CLIENT_ID = "<PASTE-REVERSED-CLIENT-ID-HERE>";\n    ...\n  };\n  name = "Release-development";\n};\n                ...\n\n# Debug-production\nHLDEZL79XQNUTPT4UM4UEEL7 /* Debug-production */ = {\n  ...\n  buildSettings = {\n    ...\n    REVERSED_CLIENT_ID = "<PASTE-REVERSED-CLIENT-ID-HERE>";\n    ...\n  };\n name = "Debug-production";\n};\n                ...\n\n/* End XCBuildConfiguration section */\n')),(0,r.kt)("p",null,"If your ",(0,r.kt)("inlineCode",{parentName:"p"},"GoogleServiceInfo.plist")," for the development flavor looks like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<plist version="1.0">\n<dict>\n    ...\n    <key>REVERSED_CLIENT_ID</key>\n    <string>com.googleusercontent.apps.737894073936-ccvknt0jpr1nk3uhftg14k8duirosg9t</string>\n  ...\n</dict>\n</plist>\n')),(0,r.kt)("p",null,"then in ",(0,r.kt)("inlineCode",{parentName:"p"},"ios/Runner.xcodeproj/project.pbxproj")," you must replace the ",(0,r.kt)("inlineCode",{parentName:"p"},"reversed_client_id")," inside the ",(0,r.kt)("strong",{parentName:"p"},"Debug-development")," and ",(0,r.kt)("strong",{parentName:"p"},"Release-development")," configuration sections."),(0,r.kt)("p",null,"This process must also be repeated with the ",(0,r.kt)("inlineCode",{parentName:"p"},"GoogleServiceInfo.plist")," of the other existing flavors on your app (such as ",(0,r.kt)("em",{parentName:"p"},"production"),"), inside the respective configuration sections of the ",(0,r.kt)("inlineCode",{parentName:"p"},"project.pbxproj")," file."))}d.isMDXComponent=!0}}]);