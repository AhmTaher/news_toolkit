"use strict";(self.webpackChunkflutter_news_toolkit_docs=self.webpackChunkflutter_news_toolkit_docs||[]).push([[935],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},p=Object.keys(e);for(r=0;r<p.length;r++)a=p[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(r=0;r<p.length;r++)a=p[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),c=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,p=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=c(a),h=n,m=d["".concat(s,".").concat(h)]||d[h]||l[h]||p;return a?r.createElement(m,i(i({ref:t},u),{},{components:a})):r.createElement(m,i({ref:t},u))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var p=a.length,i=new Array(p);i[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var c=2;c<p;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6168:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>l,frontMatter:()=>p,metadata:()=>o,toc:()=>c});var r=a(7462),n=(a(7294),a(3905));const p={sidebar_position:8,description:"Learn how to configure in-app purchases in your Flutter news application."},i="In-App Purchases",o={unversionedId:"flutter_development/in_app_purchases",id:"flutter_development/in_app_purchases",title:"In-App Purchases",description:"Learn how to configure in-app purchases in your Flutter news application.",source:"@site/docs/flutter_development/in_app_purchases.md",sourceDirName:"flutter_development",slug:"/flutter_development/in_app_purchases",permalink:"/news_toolkit/flutter_development/in_app_purchases",draft:!1,editUrl:"https://github.com/flutter/news_toolkit/tree/main/docs/docs/flutter_development/in_app_purchases.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,description:"Learn how to configure in-app purchases in your Flutter news application."},sidebar:"tutorialSidebar",previous:{title:"Push Notifications",permalink:"/news_toolkit/flutter_development/push_notifications"},next:{title:"Privacy Policy & Terms of Service",permalink:"/news_toolkit/flutter_development/privacy_policy"}},s={},c=[],u={toc:c};function l(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"in-app-purchases"},"In-App Purchases"),(0,n.kt)("p",null,"This project supports in-app purchasing for Flutter using the ",(0,n.kt)("a",{parentName:"p",href:"https://pub.dev/packages/in_app_purchase"},"in_app_purchase")," package. For the purpose of this template application, a mocked version of the",(0,n.kt)("inlineCode",{parentName:"p"},"in_app_purchase")," package was created called ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/VGVentures/google_news_template/tree/main/packages/purchase_client"},"purchase_client"),"."),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/VGVentures/google_news_template/blob/3f8d5cfd1106d3936b5d7582a82ca143c53d2535/packages/purchase_client/lib/src/purchase_client.dart#L36"},"PurchaseClient class")," implements ",(0,n.kt)("inlineCode",{parentName:"p"},"InAppPurchase")," from the ",(0,n.kt)("a",{parentName:"p",href:"https://pub.dev/packages/in_app_purchase"},"in_app_purchase")," package and utilizes the same mechanism to expose the ",(0,n.kt)("inlineCode",{parentName:"p"},"purchaseStream"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-dart"},"@override\nStream<List<PurchaseDetails>> get purchaseStream => _purchaseStream.stream;\n")),(0,n.kt)("p",null,"Mocked products are being exposed in the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/VGVentures/google_news_template/blob/main/packages/purchase_client/lib/src/products.dart"},"products.dart")," file."),(0,n.kt)("p",null,"A list of availiable subscription data featuring copy text and price information is served by Dart Frog backend. To edit the subscription data, change the ",(0,n.kt)("inlineCode",{parentName:"p"},"getSubscriptions()")," method in your custom news data source. Make sure that the product IDs are the same for your iOS and Android purchase project, as this information will be passed to the platform-agnostic ",(0,n.kt)("inlineCode",{parentName:"p"},"in_app_purchase")," package."),(0,n.kt)("p",null,"To use the ",(0,n.kt)("a",{parentName:"p",href:"https://pub.dev/packages/in_app_purchase"},"in_app_purchase")," package, substitute ",(0,n.kt)("inlineCode",{parentName:"p"},"PurchaseClient")," usage in ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/VGVentures/google_news_template/blob/3f8d5cfd1106d3936b5d7582a82ca143c53d2535/lib/main/main_development.dart#L80"},"main_development.dart")," and ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/VGVentures/google_news_template/blob/3f8d5cfd1106d3936b5d7582a82ca143c53d2535/lib/main/main_production.dart#L80"},"main_production.dart")," with the ",(0,n.kt)("a",{parentName:"p",href:"https://pub.dev/packages/in_app_purchase"},"in_app_purchase")," package implementation."),(0,n.kt)("p",null,"Then, follow the ",(0,n.kt)("a",{parentName:"p",href:"https://pub.dev/packages/in_app_purchase#getting-started"},"Getting started")," paragraph in the ",(0,n.kt)("a",{parentName:"p",href:"https://pub.dev/packages/in_app_purchase"},"in_app_purchase")," package."))}l.isMDXComponent=!0}}]);